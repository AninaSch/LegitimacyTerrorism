# first try at regressions:
library(tidyverse)
library(pglm) # model panel data
my_data <- readRDS("../../Data/Data for Modelling/GTD_polity_PENN.rds")
# for now, just remove all the polity score larger than 10 (absolute value)
# (this should be done in tidy_Polity4.R)
my_data <- my_data %>% filter(abs(polity) < 11) # ! we go from 5282 row to 5088
# first try at regressions:
library(tidyverse)
library(pglm) # model panel data
my_data <- readRDS("../../Data/Data for Modelling/GTD_polity_PENN.rds")
# for now, just remove all the polity score larger than 10 (absolute value)
# (this should be done in tidy_Polity4.R)
my_data <- my_data %>% filter(abs(polity) < 11) # ! we go from 5282 row to 5088
WVS_tidy <- readRDS("~/Documents/GitHub/LegitimacyTerrorism/Data/Processed Data/WVS_tidy.rds")
View(WVS_tidy)
library(pscl)
install.packages(pscl)
install.packages("psc")
library(pscl)
install.packages("pscl")
library(pscl)
library(aod)
install.packages("lme4")
?lme4
source('~/Documents/GitHub/LegitimacyTerrorism/Scripts/Modelling/first_try_v2.R', echo=TRUE)
install.packages("lme4")
library(lme4) # models longitudinal data within a Generalized Linear Mixed Model (GLMM) framework,
?lme4
source('~/Documents/GitHub/LegitimacyTerrorism/Scripts/Modelling/first_try_v2.R', echo=TRUE)
source('~/Documents/GitHub/LegitimacyTerrorism/Scripts/Modelling/first_try_v2.R', echo=TRUE)
source('~/Documents/GitHub/LegitimacyTerrorism/Scripts/Modelling/first_try_v2.R', echo=TRUE)
source('~/Documents/GitHub/LegitimacyTerrorism/Scripts/Modelling/first_try_v2.R', echo=TRUE)
source('~/Documents/GitHub/LegitimacyTerrorism/Scripts/Modelling/first_try_v2.R', echo=TRUE)
source('~/Documents/GitHub/LegitimacyTerrorism/Scripts/Modelling/first_try_v2.R', echo=TRUE)
source('~/Documents/GitHub/LegitimacyTerrorism/Scripts/Modelling/first_try_v2.R', echo=TRUE)
source('~/Documents/GitHub/LegitimacyTerrorism/Scripts/Modelling/first_try_v2.R', echo=TRUE)
setwd("~/Documents/GitHub/LegitimacyTerrorism/Scripts/Modelling")
source('~/Documents/GitHub/LegitimacyTerrorism/Scripts/Modelling/first_try_v2.R', echo=TRUE)
library(tidyverse)
library(pglm) # model panel data
library(pscl)
library(lme4) # models longitudinal data within a Generalized Linear Mixed Model (GLMM) framework,
my_data <- readRDS("../../Data/Data for Modelling/GTD_polity_PENN.rds")
View(my_data)
# for now, just remove all the polity score larger than 10 (absolute value)
# (this should be done in tidy_Polity4.R)
my_data <- my_data %>% filter(abs(polity) < 11) # ! we go from 5282 row to 5088
my_data <- readRDS("../../Data/Data for Modelling/GTD_polity_PENN.rds")
# for now, just remove all the polity score larger than 10 (absolute value)
# (this should be done in tidy_Polity4.R)
my_data <- my_data %>% filter(abs(polity) < 11) # ! we go from 5282 row to 5088
logit <- glm(had_events ~ exrec, data = my_data, family = binomial)
summary(logit)
logit <- glm(had_events ~ exrec + exconst + polcomp, data = my_data, family = binomial)
summary(logit)
logit <- glm(had_events ~ exrec + exconst + polcomp + durable + GDP_expentiture + pop, data = my_data, family = binomial)
summary(logit)
library(survival)
fe <- clogit(union ~ age + grade + not_smsa + south + southXt + strata(idcode), data = union)
fe <- clogit(had_events ~ exrec + exconst + polcomp + durable + GDP_expentiture + pop + strata(year), data = my_data)
summary(fe)
re1  <- glmer(had_events ~ exrec + exconst + polcomp + durable + GDP_expentiture + pop = consolidated_country,
+   data = my_data)
re1  <- glmer(had_events ~ exrec + exconst + polcomp + durable + GDP_expentiture + pop, cluster = consolidated_country,
+   data = my_data)
re1  <- glmer(had_events ~ exrec + exconst + polcomp + durable + GDP_expentiture + pop, cluster = consolidated_country, data = my_data)
header(my_data)
table(my_data)
glimpse(my_data)
re1  <- glmer(had_events ~ exrec + exconst + polcomp + durable + GDP_expentiture + pop, cluster = consolidated_country, data = my_data)
re1  <- glmer(had_events ~ exrec + exconst + polcomp + durable + GDP_expentiture + pop, cluster = year, data = my_data)
anb <- pglm(had_events ~ exrec, family = binomial('probit'),
model = "pooling",  method = "bfgs", print.level = 3, R = 5)
anb <- pglm(had_events ~ exrec, my_data, family = binomial('probit'),
model = "pooling",  method = "bfgs", print.level = 3, R = 5)
summary(anb)
anb <- pglm(had_events ~ exrec + exconst + polcomp, my_data, family = binomial('probit'),
model = "pooling",  method = "bfgs", print.level = 3, R = 5)
summary(anb)
## legitimacy measures + controls
anb <- pglm(had_events ~ exrec + exconst + polcomp + durable + GDP_expentiture + pop, my_data, family = binomial('probit'),
model = "pooling",  method = "bfgs", print.level = 3, R = 5)
summary(anb)
## legitimacy measures
anb <- pglm(had_events ~ exrec + exconst + polcomp, my_data, family = binomial('probit'),
model = "pooling",  method = "bfgs", print.level = 3, R = 5)
summary(anb)
## legitimacy measures + controls
anb <- pglm(had_events ~ exrec + exconst + polcomp + durable + GDP_expentiture + pop, my_data, family = binomial('probit'),
model = "pooling",  method = "bfgs", print.level = 3, R = 5)
summary(anb)
## legitimacy measures + controls
anb <- pglm(had_events ~ exrec + exconst + polcomp + durable , my_data, family = binomial('probit'),
model = "pooling",  method = "bfgs", print.level = 3, R = 5)
summary(anb)
## legitimacy measures + controls
anb <- pglm(had_events ~ exrec + exconst + polcomp + durable + GDP_expentiture , my_data, family = binomial('probit'),
model = "pooling",  method = "bfgs", print.level = 3, R = 5)
summary(anb)
## legitimacy measures + controls
anb <- pglm(had_events ~ exrec + exconst + polcomp + durable  + pop , my_data, family = binomial('probit'),
model = "pooling",  method = "bfgs", print.level = 3, R = 5)
summary(anb)
la <- pglm(n_events ~ exrec + exconst + polcomp,  my_data,
family = negbin, model = "within", print.level = 3, method = "nr",
index = c('consolidated_country', 'year'))
summary(la)
?lag()
?lag()
# lagged legitimacy
la <- pglm(n_events ~ lag(exrec) + exconst + polcomp,  my_data,
family = negbin, model = "within", print.level = 3, method = "nr",
index = c('consolidated_country', 'year'))
summary(la)
la <- pglm(n_events ~ exrec + exconst + polcomp + durable + log(GDP_expentiture) + log(pop),  my_data,
family = negbin, model = "within", print.level = 3, method = "nr",
index = c('consolidated_country', 'year'))
summary(la)
summary(la)
exp(0.0661022)
my_data <- readRDS("../../Data/Data for Modelling/GTD_polity_PENN.rds")
## legitimacy measures
logit <- glm(had_events ~ exrec + exconst + polcomp, data = my_data, family = binomial)
hist(my_data$n_events)
hist(my_data$n_events, breaks=100)
hist(my_data$n_events[my_data$n_events < 300], breaks=200)
hist(my_data$n_events[my_data$n_events <= 100], breaks=100)
table(my_data$had_events)
## legitimacy measures
logit <- glm(had_events ~ exrec + exconst + polcomp, data = my_data, family = binomial)
summary(logit)
## legitimacy measures
anb <- pglm(had_events ~ exrec + exconst + polcomp, my_data, family = binomial('probit'),
model = "pooling",  method = "bfgs", print.level = 3, R = 5)
summary(anb)
## legitimacy measures + controls. Once I add GDP
anb <- pglm(had_events ~ exrec + exconst + polcomp + durable + GDP_expentiture + pop , my_data, family = binomial('logit'),
model = "pooling",  method = "bfgs", print.level = 3, R = 5)
summary(anb)
## legitimacy measures + controls. Once I add GDP
anb <- pglm(had_events ~ exrec + exconst + polcomp + durable + GDP_expentiture + pop , my_data, family = binomial('logit'),
model = "within",  method = "bfgs", print.level = 3, R = 5)
?pglm
la <- pglm(n_events ~ exrec + exconst + polcomp + durable + log(GDP_expentiture) + log(pop),  my_data,
family = negbin, model = "within", print.level = 3, method = "nr",
index = c('consolidated_country', 'year'))
summary(la)
la <- pglm(n_events ~ exrec + exconst + polcomp + durable + log(GDP_expentiture) + log(pop),  my_data,
family = negbin(link="log"), model = "within", print.level = 3, method = "nr",
index = c('consolidated_country', 'year'))
summary(la)
exrec
head(my_data$exrec)
unique(my_data$exrec)
exp(-0.0592810)
my_data <- my_data %>% filter(abs(polity) < 11) # ! we go from 5282 row to 5088
la <- pglm(n_events ~ exrec + exconst + polcomp + durable + log(GDP_expentiture) + log(pop),  my_data,
family = negbin(link="log"), model = "within", print.level = 3, method = "nr",
index = c('consolidated_country', 'year'))
summary(la)
head(my_data$exrec)
head(my_data$exrec)
my_data <- my_data %>% filter(abs(polity) < 11) # ! we go from 5282 row to 5088
my_data$exrec
summary(my_data$exrec)
table(my_data$exrec)
la <- pglm(n_events ~ exrec + exconst + polcomp + durable + log(GDP_expentiture) + log(pop),  my_data,
family = negbin(link="log"), model = "within", print.level = 3, method = "nr",
index = c('consolidated_country', 'year'))
summary(la)
la <- pglm(n_events ~ polity + durable + log(GDP_expentiture) + log(pop),  my_data,
family = negbin(link="log"), model = "within", print.level = 3, method = "nr",
index = c('consolidated_country', 'year'))
summary(la)
la <- pglm(n_events ~ exrec + exconst + polcomp + durable + log(GDP_expentiture) + log(pop),  my_data,
family = negbin(link="log"), model = "within", print.level = 3, method = "nr",
index = c('consolidated_country', 'year'))
summary(la)
