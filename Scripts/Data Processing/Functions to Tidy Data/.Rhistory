# handle special countries:
# as we match to GTD, we should have the same countries as there.
# this is not about spelling, spelling is handled in Data/Processed Data/To Clean Countries/countries.csv
# but about the different splits of the countries.
# e.g. GTD has no distinction btw north and south Yemem. Polity does before 1990
# so we cuold average Yemen scores by year in Polity before 1990 and rename country as Yemen
# TO DO:
# NEED TO HANDLE SPECIAL COUNTRIES. currentloy those are dropped when merging with GTD...
print("TO DO: HANDLE SPECIAL COUNTRIES (north/south Yemen, Vietnam, Soudan...)")
# TO DO:
# NEED TO HANDLE HERE THE SPECIAL CASES, WHEN THE SCORES ARE -77, -66 etc.
print("TO DO: HANDLE SPECIAL SCORES (-66, -77, -99...)")
saveRDS(WGI_tidy, file = path_savetidy)
print("processed WGI data saved")
}
setwd("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Scripts")
getwd()
setwd("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Scripts/Data Processing/Functions to Tidy Data")
getwd()
library(readxl)
dataset <- read_excel("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex.xlsx")
dataset <- read_excel("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset.xlsx")
# WGI_account <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xls") # for debugging
WGI_account <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset.xlsx") # for debugging
WGI_account <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
WGI_account <- rio::import("../../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
WGI_account <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
glimpse(WGI_account)
glimpse(WGI_account)
glimpse
glimpse()
# WGI_account <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
WGI_account <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
View(WGI_account)
glimpse(WGI_account)
# WGI_account <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
WGI_account <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
glimpse(WGI_account)
library(dplyr)
glimpse(WGI_account)
# extract columns "estimates" as a data table
WGI_account %>% select(Country/Territory, Estimate)
# extract columns "estimates" as a data table
WGI_account %>% select(1, 2)
View(WGI_account)
# extract columns "estimates" as a data table
WGI_account %>% select(-1, -2)
# extract columns "estimates" as a data table
WGI_account %>% select(-1, -2)
View(WGI_account)
# WGI_account <- rio::import(path_loadoriginal)
# WGI_account <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
WGI_account <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
# extract columns "estimates" as a data table
# drop columns 3:7
WGI_account %>% select(-(3:7))
glimpse(WGI_account)
# extract columns "estimates" as a data table
# drop columns 3:7
WGI_account %>% select(-(3:7))
WGI_accountsub <- WGI_account %>% select(-(3:7))
View(WGI_accountsub)
# WGI_account <- rio::import(path_loadoriginal)
# WGI_account <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
WGI_account <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
glimpse(WGI_account)
WGI_accountsub <- WGI_account %>% select(1, 2, 8, 14, 20, 26, 32, 38, 44, 50, 56, 62, 68, 74, 80, 86, 92, 98, 104, 110)
View(WGI_accountsub)
View(WGI_account)
View(WGI_accountsub)
View(WGI_accountsub)
WGI_accountsub = WGI_accountsub[-2,]
# extract columns "estimates" as a data table
WGI_accountsub <- WGI_account %>% select(1, 2, 8, 14, 20, 26, 32, 38, 44, 50, 56, 62, 68, 74, 80, 86, 92, 98, 104, 110)
WGI_accountsub = WGI_accountsub[-1,]
# label first colum: country
names(data)[1]<-"country"
# label first colum: country
names(WGI_accountsub)[1]<-"country"
mdata <- melt(WGI_accountsub, id=c("country",))
# reshape data
library(reshape)
# WGI_account <- rio::import(path_loadoriginal)
# WGI_account <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
WGI_account <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
View(WGI_account)
# extract columns "estimates" as a data table
WGI_accountsub <- WGI_account %>% select(1, 2, 8, 14, 20, 26, 32, 38, 44, 50, 56, 62, 68, 74, 80, 86, 92, 98, 104, 110)
View(WGI_accountsub)
# delete first row
WGI_accountsub = WGI_accountsub[-1,]
# label first colum: country
names(WGI_accountsub)[1]<-"country"
View(WGI_accountsub)
# reshape data
# ???
tmp <- WGI_accountsub %>% pivot_longer(-country, names_to = "year", values_to = "estimates")
library(tidyverse)
# reshape data
# ???
tmp <- WGI_accountsub %>% pivot_longer(-country, names_to = "year", values_to = "estimates")
library(tidyr)
install.packages(c("assertthat", "backports", "boot", "broom", "callr", "checkmate", "cli", "clipr", "cluster", "colorspace", "data.table", "dbplyr", "digest", "dplyr", "ellipsis", "evaluate", "feather", "fs", "fst", "ggplot2", "ggrepel", "glue", "gtable", "haven", "highr", "hms", "insight", "knitr", "lazyeval", "markdown", "MASS", "Matrix", "mgcv", "mime", "nlme", "openssl", "openxlsx", "pillar", "processx", "progress", "purrr", "Rcpp", "readxl", "reprex", "rlang", "rmarkdown", "rmatio", "rpart", "rstudioapi", "rvest", "sjlabelled", "stringi", "survival", "sys", "tibble", "tinytex", "xfun", "zip"))
library(tidyr)
# reshape data
# ???
tmp <- WGI_accountsub %>% pivot_longer(-country, names_to = "year", values_to = "estimates")
?pivot_longer
??pivot_longer
# reshape data
# ???
tmp <- WGI_accountsub %>% pivot_long(-country, names_to = "year", values_to = "estimates")
?pivot_long
pivot_long
??pivot_long
# reshape data
# ???
tmp <- WGI_accountsub %>% gather(key = "year", values = "estimates")
WGI_accountsub %>% columns
WGI_accountsub %>% columns()
colnames(WGI_accountsub)
colnames(WGI_accountsub)[2:]
colnames(WGI_accountsub)[1]
colnames(WGI_accountsub)[2]
colnames(WGI_accountsub)[2:]
colnames(WGI_accountsub)[2:5]
colnames(WGI_accountsub)[2:17]
colnames(WGI_accountsub)[2:20]
# reshape data
# ???
tmp <- WGI_accountsub %>% gather(colnames(WGI_accountsub)[2:20], key = "year", values = "estimates")
# reshape data
# ???
tmp <- WGI_accountsub %>% gather(key = "year", values = "estimates", -country)
# reshape data
# ???
tmp <- WGI_accountsub %>% gather(WGI_accountsub, key = "year", values = "estimates", -country)
# reshape data
# ???
tmp <- WGI_accountsub %>% gather(key = "year", values = "estimates", 2:20)
# reshape data
# ???
tmp <- WGI_accountsub %>% gather("year", "estimates", 2:20)
View(tmp)
?gather
View(tmp)
tmp <- WGI_accountsub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year)
View(tmp)
tmp <- WGI_accountsub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year)
library(tidyverse)
tmp <- WGI_accountsub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year)
tmp <- WGI_accountsub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year) %>%
mutate(year = str_sub(year, start = 0, end = 4))
# reshape data
# ???
tmp <- WGI_accountsub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year) %>%
mutate(year = str_sub(year, start = 1, end = 4))
# reshape data
# ???
tmp <- WGI_accountsub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year) %>%
mutate(year = str_sub(year, start = 1, end = 5))
View(tmp)
setwd("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Scripts/Data Processing/Functions to Tidy Data")
getwd()
# tidy_WGI <- function(path_loadoriginal, path_savetidy){
#       1. read WGI account Data
print("importing WGI account data... ")
# WGI_account <- rio::import(path_loadoriginal)
# WGI_account <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
WGI_account <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
glimpse(WGI_account)
print("importing done")
# extract columns "estimates" as a data table
WGI_accountsub <- WGI_account %>% select(1, 2, 8, 14, 20, 26, 32, 38, 44, 50, 56, 62, 68, 74, 80, 86, 92, 98, 104, 110)
# delete first row
WGI_accountsub = WGI_accountsub[-1,]
# label first colum: country
names(WGI_accountsub)[1]<-"country"
# reshape data
WGI_accounttidy <- WGI_accountsub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year) %>%
mutate(
year = str_sub(year, start = 1, end = 4),
country = as.factor(country)
)
WGI_accounttidy <- WGI_accountsub %>%
mutate(country = as.factor(country)) %>%
arrange(country, year)
# glimpse(polity_tidy)
print("WGI_accounttidy done")
View(WGI_accounttidy)
# 2. POLITICAL STABILITY
#  read WGI political stability data
#   read WGI account Data
print("importing WGI stability data... ")
# WGI_account <- rio::import(path_loadoriginal)
# WGI_account <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
WGI_account <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_stability.xlsx") # for debugging
# 2. POLITICAL STABILITY
#  read WGI political stability data
#   read WGI account Data
print("importing WGI stability data... ")
# WGI_stability <- rio::import(path_loadoriginal)
# WGI_stability <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_stability.xlsx") # for debugging
WGI_stability <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_stability.xlsx") # for debugging
glimpse(WGI_stability)
print("importing done")
# extract columns "estimates" as a data table
WGI_stabilitysub <- WGI_stability %>% select(1, 2, 8, 14, 20, 26, 32, 38, 44, 50, 56, 62, 68, 74, 80, 86, 92, 98, 104, 110)
# delete first row
WGI_stabilitysub = WGI_stabilitysub[-1,]
# label first colum: country
names(WGI_stabilitysub)[1]<-"country"
# reshape data
WGI_stabilitytidy <- WGI_stabilitysub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year) %>%
mutate(
year = str_sub(year, start = 1, end = 4),
country = as.factor(country)
)
WGI_stabilitytidy <- WGI_stabilitysub %>%
mutate(country = as.factor(country)) %>%
arrange(country, year)
# glimpse(polity_tidy)
print("WGI_stabilitytidy done")
View(WGI_stabilitytidy)
# 2. POLITICAL STABILITY
#  read WGI political stability data
#   read WGI account Data
print("importing WGI stability data... ")
# WGI_stability <- rio::import(path_loadoriginal)
# WGI_stability <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_stability.xlsx") # for debugging
WGI_stability <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_stability.xlsx") # for debugging
glimpse(WGI_stability)
print("importing done")
# extract columns "estimates" as a data table
WGI_stabilitysub <- WGI_stability %>% select(1, 2, 8, 14, 20, 26, 32, 38, 44, 50, 56, 62, 68, 74, 80, 86, 92, 98, 104, 110)
# delete first row
WGI_stabilitysub = WGI_stabilitysub[-1,]
# label first colum: country
names(WGI_stabilitysub)[1]<-"country"
# reshape data
WGI_stabilitytidy <- WGI_stabilitysub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year) %>%
mutate(
year = str_sub(year, start = 1, end = 4),
country = as.factor(country)
)
WGI_stabilitytidy <- WGI_stabilitytidy %>%
mutate(country = as.factor(country)) %>%
arrange(country, year)
# glimpse(polity_tidy)
print("WGI_stabilitytidy done")
# 1. ACCOUNTABILITY
#   read WGI account Data
print("importing WGI account data... ")
# WGI_account <- rio::import(path_loadoriginal)
# WGI_account <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
WGI_account <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_account.xlsx") # for debugging
glimpse(WGI_account)
print("importing done")
# extract columns "estimates" as a data table
WGI_accountsub <- WGI_account %>% select(1, 2, 8, 14, 20, 26, 32, 38, 44, 50, 56, 62, 68, 74, 80, 86, 92, 98, 104, 110)
# delete first row
WGI_accountsub = WGI_accountsub[-1,]
# label first colum: country
names(WGI_accountsub)[1]<-"country"
# reshape data
WGI_accounttidy <- WGI_accountsub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year) %>%
mutate(
year = str_sub(year, start = 1, end = 4),
country = as.factor(country)
)
print("WGI_accounttidy done")
# 2. POLITICAL STABILITY
#  read WGI political stability data
#   read WGI account Data
print("importing WGI stability data... ")
# WGI_stability <- rio::import(path_loadoriginal)
# WGI_stability <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_stability.xlsx") # for debugging
WGI_stability <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_stability.xlsx") # for debugging
glimpse(WGI_stability)
print("importing done")
# extract columns "estimates" as a data table
WGI_stabilitysub <- WGI_stability %>% select(1, 2, 8, 14, 20, 26, 32, 38, 44, 50, 56, 62, 68, 74, 80, 86, 92, 98, 104, 110)
# delete first row
WGI_stabilitysub = WGI_stabilitysub[-1,]
# label first colum: country
names(WGI_stabilitysub)[1]<-"country"
# reshape data
WGI_stabilitytidy <- WGI_stabilitysub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year) %>%
mutate(
year = str_sub(year, start = 1, end = 4),
country = as.factor(country)
)
print("WGI_stabilitytidy done")
# 3. GOVERNMENT EFFECTIVENESS
#  read WGI government effectiveness data
#   read WGI account Data
print("importing WGI stability data... ")
# WGI_effect <- rio::import(path_loadoriginal)
# WGI_effect <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_effect.xlsx") # for debugging
WGI_effect <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_effect.xlsx") # for debugging
glimpse(WGI_effect)
print("importing done")
# extract columns "estimates" as a data table
WGI_effectsub <- WGI_effect %>% select(1, 2, 8, 14, 20, 26, 32, 38, 44, 50, 56, 62, 68, 74, 80, 86, 92, 98, 104, 110)
# delete first row
WGI_effectsub = WGI_effectsubb[-1,]
# label first colum: country
names(WGI_effectsub)[1]<-"country"
# reshape data
WGI_effecttidy <- WGI_effectsub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year) %>%
mutate(
year = str_sub(year, start = 1, end = 4),
country = as.factor(country)
)
print("WGI_stabilitytidy done")
# 3. REGULATORY QUALITY
#  read WGI regulatory quality data data
#   read WGI account Data
print("importing WGI regulatory quality data... ")
# WGI_quality <- rio::import(path_loadoriginal)
# WGI_quality <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_quality.xlsx") # for debugging
WGI_quality <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_quality.xlsx") # for debugging
glimpse(WGI_quality)
print("importing done")
# extract columns "estimates" as a data table
WGI_qualitysub <- WGI_quality %>% select(1, 2, 8, 14, 20, 26, 32, 38, 44, 50, 56, 62, 68, 74, 80, 86, 92, 98, 104, 110)
# delete first row
WGI_qualitysub = WGI_qualitysub[-1,]
# label first colum: country
names(WGI_qualitysub)[1]<-"country"
# reshape data
WGI_qualitytidy <- WGI_qualitysub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year) %>%
mutate(
year = str_sub(year, start = 1, end = 4),
country = as.factor(country)
)
print("WGI_qualitytidy done")
View(WGI_qualitytidy)
# 5. RULE OF LAW
#  read WGI rule of law data data
print("importing WGI rule of law data... ")
# WGI_rulelaw <- rio::import(path_loadoriginal)
# WGI_rulelaw <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_rulelaw.xlsx") # for debugging
WGI_rulelaw <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_rulelaw.xlsx") # for debugging
glimpse(WGI_rulelaw)
print("importing done")
# extract columns "estimates" as a data table
WGI_rulelawsub <- WGI_rulelaw %>% select(1, 2, 8, 14, 20, 26, 32, 38, 44, 50, 56, 62, 68, 74, 80, 86, 92, 98, 104, 110)
# delete first row
WGI_qrulelawsub = WGI_rulelawsub[-1,]
# label first colum: country
names(WGI_rulelawsub)[1]<-"country"
# reshape data
WGI_rulelawtidy <- WGI_rulelawsub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year) %>%
mutate(
year = str_sub(year, start = 1, end = 4),
country = as.factor(country)
)
print("WGI_rulelawtidy done")
View(WGI_rulelawtidy)
# 5. CONTROL OF CORRUPTION
#  read WGI control of corruption data data
print("importing WGI control of corruption data... ")
# WGI_rulelaw <- rio::import(path_loadoriginal)
# WGI_rulelaw <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_corruption.xlsx") # for debugging
WGI_rulelaw <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_corruption.xlsx") # for debugging
glimpse(WGI_corruption)
print("importing done")
# extract columns "estimates" as a data table
WGI_corruptionsub <- WGI_corruption %>% select(1, 2, 8, 14, 20, 26, 32, 38, 44, 50, 56, 62, 68, 74, 80, 86, 92, 98, 104, 110)
# delete first row
WGI_corruptionsub = WGI_corruptionsub[-1,]
# label first colum: country
names(WGI_corruptionsub)[1]<-"country"
# reshape data
WGI_corruptiontidy <- WGI_corruptionsub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year) %>%
mutate(
year = str_sub(year, start = 1, end = 4),
country = as.factor(country)
)
print("WGI_corruptiontidy done")
# WGI_rulelaw <- rio::import(path_loadoriginal)
# WGI_rulelaw <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_corruption.xlsx") # for debugging
WGI_rulelaw <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_corruption.xlsx") # for debugging
glimpse(WGI_corruption)
# WGI_corruption <- rio::import(path_loadoriginal)
# WGI_rcorruption <- rio::import("/Users/schwarze/Documents/GitHub/LegitimacyTerrorism/Data/Original Data/WorldBank/WorldGovIndex/wgidataset_corruption.xlsx") # for debugging
WGI_corruption <- rio::import("../../../Data/Original Data/WorldBank/WorldGovIndex/wgidataset_corruption.xlsx") # for debugging
glimpse(WGI_corruption)
print("importing done")
# extract columns "estimates" as a data table
WGI_corruptionsub <- WGI_corruption %>% select(1, 2, 8, 14, 20, 26, 32, 38, 44, 50, 56, 62, 68, 74, 80, 86, 92, 98, 104, 110)
View(WGI_corruptionsub)
# delete first row
WGI_corruptionsub = WGI_corruptionsub[-1,]
# label first colum: country
names(WGI_corruptionsub)[1]<-"country"
# reshape data
WGI_corruptiontidy <- WGI_corruptionsub %>%
gather("year", "estimates", 2:20) %>%
arrange(country, year) %>%
mutate(
year = str_sub(year, start = 1, end = 4),
country = as.factor(country)
)
print("WGI_corruptiontidy done")
#       1. read prio Data
#print("importing prio data... ")
#prio <- rio::import(path_loadoriginal)
prio <- rio::import("../../../Data/Original Data/PRIO/ucdp-prio-acd-191.xls") # for debugging
#       1. read prio Data
#print("importing prio data... ")
#prio <- rio::import(path_loadoriginal)
prio <- rio::import("../../../Data/Original Data/PRIO/ucdp-prio-acd-191.xlsx") # for debugging
View(prio)
glimpse(prio)
print("importing done")
glimpse(prio)
table(prio$type_of_conflict)
is.na(prio$type_of_conflict)
table(prio$rio)
table(prio$year)
country=location
prio_tidy <- prio %>%
select(
year,
location,
type_of_conflict,
) %>%
filter(
year >= 1970
) %>%
country=location %>%
prio_tidy <- prio %>%
select(
year,
location,
type_of_conflict,
) %>%
filter(
year >= 1970
) %>%
country=location
#       1. read prio Data
#print("importing prio data... ")
#prio <- rio::import(path_loadoriginal)
prio <- rio::import("../../../Data/Original Data/PRIO/ucdp-prio-acd-191.xlsx") # for debugging
prio_tidy <- prio %>%
select(
year,
location,
type_of_conflict,
)
colnames(prio)[colnames(prio)=="location"] <- "country"
#       1. read prio Data
#print("importing prio data... ")
#prio <- rio::import(path_loadoriginal)
prio <- rio::import("../../../Data/Original Data/PRIO/ucdp-prio-acd-191.xlsx") # for debugging
colnames(prio)[colnames(prio)=="location"] <- "country"
prio_tidy <- prio %>%
select(
year,
location,
type_of_conflict,
) %>%
filter(
year >= 1970
) %>%
mutate(country = as.factor(country)) %>%
arrange(country, year)
prio_tidy <- prio %>%
select(
year,
country,
type_of_conflict,
) %>%
filter(
year >= 1970
) %>%
mutate(country = as.factor(country)) %>%
arrange(country, year)
View(prio_tidy)
